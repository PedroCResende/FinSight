(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{2438:(e,t,a)=>{"use strict";a.d(t,{e:()=>u,k:()=>l});var o=a(95155),n=a(12115),i=a(27600),s=a(24355),r=a(62896),c=a(87481);let d=(0,n.createContext)(void 0);function u(e){let{children:t}=e,{user:a}=(0,i.A)(),{toast:u}=(0,c.dj)(),[l,m]=(0,n.useState)([]),[f,p]=(0,n.useState)(!0);(0,n.useEffect)(()=>{a?(async()=>{p(!0),m(await (0,s.$_)(a.uid)),p(!1)})():(m([]),p(!1))},[a]);let h=(0,n.useCallback)(async(e,t)=>{if(!a)return;let o=r.p.find(t=>t.condition===e);if(o&&!l.some(e=>e.achievementId===o.id))try{let e={id:await (0,s.__)(a.uid,o.id),achievementId:o.id,unlockedAt:new Date};m(t=>[...t,e]),u({title:"\uD83C\uDFC6 Conquista Desbloqueada!",description:'Voc\xea ganhou: "'.concat(o.title,'"')})}catch(e){console.error("Failed to unlock achievement:",e)}},[a,l,u]);return(0,o.jsx)(d.Provider,{value:{unlockedAchievements:l,checkAndUnlockAchievement:h,loading:f},children:t})}function l(){let e=(0,n.useContext)(d);if(void 0===e)throw Error("useAchievements must be used within an AchievementsProvider");return e}},2565:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>_});var o=a(95155);a(52728);var n=a(87481),i=a(12115),s=a(26621),r=a(74466),c=a(25318),d=a(59434);let u=s.Kq,l=i.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,o.jsx)(s.LM,{ref:t,className:(0,d.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",a),...n})});l.displayName=s.LM.displayName;let m=(0,r.F)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),f=i.forwardRef((e,t)=>{let{className:a,variant:n,...i}=e;return(0,o.jsx)(s.bL,{ref:t,className:(0,d.cn)(m({variant:n}),a),...i})});f.displayName=s.bL.displayName,i.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,o.jsx)(s.rc,{ref:t,className:(0,d.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",a),...n})}).displayName=s.rc.displayName;let p=i.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,o.jsx)(s.bm,{ref:t,className:(0,d.cn)("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",a),"toast-close":"",...n,children:(0,o.jsx)(c.A,{className:"h-4 w-4"})})});p.displayName=s.bm.displayName;let h=i.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,o.jsx)(s.hE,{ref:t,className:(0,d.cn)("text-sm font-semibold",a),...n})});h.displayName=s.hE.displayName;let g=i.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,o.jsx)(s.VY,{ref:t,className:(0,d.cn)("text-sm opacity-90",a),...n})});function y(){let{toasts:e}=(0,n.dj)();return(0,o.jsxs)(u,{children:[e.map(function(e){let{id:t,title:a,description:n,action:i,...s}=e;return(0,o.jsxs)(f,{...s,children:[(0,o.jsxs)("div",{className:"grid gap-1",children:[a&&(0,o.jsx)(h,{children:a}),n&&(0,o.jsx)(g,{children:n})]}),i,(0,o.jsx)(p,{})]},t)}),(0,o.jsx)(l,{})]})}g.displayName=s.VY.displayName;var v=a(51362);function b(e){let{children:t,...a}=e;return(0,o.jsx)(v.N,{...a,children:t})}var x=a(27600),w=a(2438);function A(e){let{children:t}=e;return(0,o.jsx)(b,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!0,children:(0,o.jsx)(x.O,{children:(0,o.jsx)(w.e,{children:t})})})}function _(e){let{children:t}=e;return(0,o.jsxs)("html",{lang:"en",suppressHydrationWarning:!0,children:[(0,o.jsxs)("head",{children:[(0,o.jsx)("title",{children:"FinSight"}),(0,o.jsx)("meta",{name:"description",content:"Seu Rastreador Financeiro Pessoal e Inteligente"}),(0,o.jsx)("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),(0,o.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}),(0,o.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=PT+Sans:ital,wght@0,400;0,700;1,400;1,700&display=swap",rel:"stylesheet"})]}),(0,o.jsx)("body",{className:"font-body antialiased",children:(0,o.jsxs)(A,{children:[t,(0,o.jsx)(y,{})]})})]})}},24355:(e,t,a)=>{"use strict";a.d(t,{$_:()=>T,$x:()=>A,AF:()=>g,Ah:()=>u,BH:()=>_,D:()=>x,DX:()=>b,Eg:()=>h,I0:()=>f,K7:()=>m,NN:()=>M,TO:()=>w,Uw:()=>y,Wm:()=>P,XH:()=>S,__:()=>I,bW:()=>d,m:()=>v,oV:()=>p,rr:()=>j,st:()=>l});var o=a(67039),n=a(35317),i=a(84713),s=a(19164),r=a(74641);let c=e=>{let t={...e};for(let e in t)t[e]instanceof n.Dc&&(t[e]=t[e].toDate());return t};async function d(e){let t=(0,n.rJ)(o.db,"users/".concat(e,"/categories")),a=(0,n.P)(t);return(await (0,n.GG)(a)).docs.map(e=>({id:e.id,...e.data()}))}async function u(e,t){let a=(0,n.rJ)(o.db,"users/".concat(e,"/categories"));return(await (0,n.gS)(a,t)).id}async function l(e,t,a){let i=(0,n.H9)(o.db,"users/".concat(e,"/categories"),t);await (0,n.mZ)(i,a)}async function m(e,t){let a=(0,n.H9)(o.db,"users/".concat(e,"/categories"),t);await (0,n.kd)(a)}async function f(e){let t=(0,n.rJ)(o.db,"users/".concat(e,"/transactions")),a=(0,n.P)(t);return(await (0,n.GG)(a)).docs.map(e=>({id:e.id,...c(e.data())}))}async function p(e,t,a){let s=(0,n.rJ)(o.db,"users/".concat(e,"/transactions")),r=(0,n.P)(s,(0,n._M)("date",">=",(0,i.GP)(t,"yyyy-MM-dd")),(0,n._M)("date","<=",(0,i.GP)(a,"yyyy-MM-dd")));return(await (0,n.GG)(r)).docs.map(e=>({id:e.id,...c(e.data())}))}async function h(e,t){let a=(0,n.rJ)(o.db,"users/".concat(e,"/transactions")),i=t.map(e=>e.hash),s=Array.from({length:Math.ceil(i.length/30)},(e,t)=>i.slice(30*t,30*t+30)),r=new Set;for(let e of s){if(0===e.length)continue;let t=(0,n.P)(a,(0,n._M)("hash","in",e));(await (0,n.GG)(t)).forEach(e=>{r.add(e.data().hash)})}let d=t.filter(e=>!r.has(e.hash));if(0===d.length)return[];let u=(0,n.wP)(o.db),l=[];return d.forEach(t=>{let a=(0,n.H9)((0,n.rJ)(o.db,"users/".concat(e,"/transactions")));u.set(a,t),l.push({id:a.id,...c(t)})}),await u.commit(),l}async function g(e,t,a){let i=(0,n.H9)(o.db,"users/".concat(e,"/transactions"),t);await (0,n.mZ)(i,a)}async function y(e,t){let a=(0,n.H9)(o.db,"users/".concat(e,"/transactions"),t);await (0,n.kd)(a)}async function v(e){let t=(0,n.rJ)(o.db,"users/".concat(e,"/transactions")),a=await (0,n.GG)(t);if(a.empty)return;let i=(0,n.wP)(o.db);a.docs.forEach(e=>{i.delete(e.ref)}),await i.commit()}async function b(e){let t=(0,n.rJ)(o.db,"users/".concat(e,"/goals")),a=(0,n.P)(t);return(await (0,n.GG)(a)).docs.map(e=>({id:e.id,...c(e.data())}))}async function x(e,t){let a=(0,n.rJ)(o.db,"users/".concat(e,"/goals"));return(await (0,n.gS)(a,{...t,createdAt:(0,n.O5)()})).id}async function w(e,t,a){let i=(0,n.H9)(o.db,"users/".concat(e,"/goals"),t);await (0,n.mZ)(i,a)}async function A(e,t){let a=(0,n.H9)(o.db,"users/".concat(e,"/goals"),t);await (0,n.kd)(a)}async function _(e){let t=(0,n.rJ)(o.db,"users/".concat(e,"/budgets")),a=(0,n.P)(t);return(await (0,n.GG)(a)).docs.map(e=>({id:e.id,...c(e.data())}))}async function S(e,t){let a=(0,n.rJ)(o.db,"users/".concat(e,"/budgets"));return(await (0,n.gS)(a,t)).id}async function j(e,t,a){let i=(0,n.H9)(o.db,"users/".concat(e,"/budgets"),t);await (0,n.mZ)(i,a)}async function M(e,t){let a=(0,n.H9)(o.db,"users/".concat(e,"/budgets"),t);await (0,n.kd)(a)}async function P(e,t,a){let c=new Date(a.replace(/-/g,"/")),d=(0,i.GP)(c,"yyyy-MM"),u=(0,n.rJ)(o.db,"users/".concat(e,"/budgets")),l=(0,n.P)(u,(0,n._M)("categoryId","==",t),(0,n._M)("month","==",d)),m=await (0,n.GG)(l);if(m.empty)return;let f=m.docs[0],p=(0,n.rJ)(o.db,"users/".concat(e,"/transactions")),h=(0,i.GP)((0,s.w)(c),"yyyy-MM-dd"),g=(0,i.GP)((0,r.p)(c),"yyyy-MM-dd"),y=(0,n.P)(p,(0,n._M)("category","==",t),(0,n._M)("date",">=",h),(0,n._M)("date","<=",g),(0,n._M)("amount","<",0)),v=(await (0,n.GG)(y)).docs.reduce((e,t)=>e+Math.abs(t.data().amount),0);await (0,n.mZ)(f.ref,{current:v})}async function T(e){let t=(0,n.rJ)(o.db,"users/".concat(e,"/achievements")),a=(0,n.P)(t);return(await (0,n.GG)(a)).docs.map(e=>({id:e.id,...c(e.data())}))}async function I(e,t){let a=(0,n.rJ)(o.db,"users/".concat(e,"/achievements"));return(await (0,n.gS)(a,{achievementId:t,unlockedAt:(0,n.O5)()})).id}},27600:(e,t,a)=>{"use strict";a.d(t,{A:()=>l,O:()=>u});var o=a(95155),n=a(12115),i=a(93004),s=a(67039),r=a(35695),c=a(57383);let d=(0,n.createContext)(void 0);function u(e){let{children:t}=e,[a,u]=(0,n.useState)(null),[l,m]=(0,n.useState)(!0),f=(0,r.useRouter)();(0,n.useEffect)(()=>{let e=(0,i.hg)(s.j,async e=>{if(u(e),e){let t=await e.getIdToken();c.A.set("firebaseIdToken",t,{path:"/"})}else c.A.remove("firebaseIdToken",{path:"/"});m(!1)});return()=>e()},[]);let p=async e=>{let{email:t,password:a}=e;return(await (0,i.x9)(s.j,t,a)).user},h=async e=>{let{name:t,email:a,password:o}=e;return(await (0,i.eJ)(s.j,a,o)).user},g=async()=>{await (0,i.CI)(s.j),f.push("/login")};return(0,o.jsx)(d.Provider,{value:{user:a,loading:l,login:p,signup:h,logout:g},children:t})}function l(){let e=(0,n.useContext)(d);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},50198:(e,t,a)=>{Promise.resolve().then(a.bind(a,2565))},52728:()=>{},59434:(e,t,a)=>{"use strict";a.d(t,{cn:()=>i});var o=a(52596),n=a(39688);function i(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.QP)((0,o.$)(t))}},62896:(e,t,a)=>{"use strict";a.d(t,{p:()=>w});var o=a(91467),n=a(14675),i=a(49545),s=a(76570),r=a(98214),c=a(81203),d=a(18553),u=a(33081),l=a(83662),m=a(53838),f=a(80659),p=a(61636),h=a(77724),g=a(519),y=a(74601),v=a(50085),b=a(54913),x=a(86578);let w=[{id:"ach_1",title:"Primeira Conquista",description:"Voc\xea categorizou sua primeira transa\xe7\xe3o. O primeiro passo para a organiza\xe7\xe3o!",icon:o.A,condition:"firstCategorization"},{id:"ach_5",title:"Dando Nome aos Bois",description:"Voc\xea criou sua primeira categoria personalizada. Agora o controle \xe9 todo seu!",icon:n.A,condition:"firstCategoryCreated"},{id:"ach_8",title:"Planejador",description:"Voc\xea definiu seu primeiro or\xe7amento mensal. O planejamento \xe9 a chave do sucesso.",icon:i.A,condition:"firstBudgetCreated"},{id:"ach_6",title:"Mestre da Organiza\xe7\xe3o",description:"Uau! Voc\xea j\xe1 categorizou mais de 100 transa\xe7\xf5es. Sua vida financeira nunca esteve t\xe3o organizada.",icon:s.A,condition:"categorized100Transactions"},{id:"ach_7",title:"Tudo em Seu Lugar",description:"Miss\xe3o cumprida! Voc\xea categorizou todas as transa\xe7\xf5es de um extrato completo.",icon:r.A,condition:"categorizedFullStatement"},{id:"ach_2",title:"Economista Iniciante",description:"Voc\xea ficou dentro do or\xe7amento em todas as categorias este m\xeas. \xd3timo controle!",icon:c.A,condition:"spentUnderBudget"},{id:"ach_9",title:"Mestre do Or\xe7amento",description:"Voc\xea n\xe3o apenas ficou dentro do or\xe7amento, como tamb\xe9m gastou 20% a menos do que o planejado.",icon:d.A,condition:"spent20PercentUnderBudget"},{id:"ach_10",title:"Opera\xe7\xe3o Corta-Gasto",description:"Voc\xea conseguiu reduzir em 15% os gastos em uma categoria em rela\xe7\xe3o ao m\xeas anterior.",icon:u.A,condition:"reducedCategorySpendingBy15Percent"},{id:"ach_11",title:"Onde o Dinheiro Mora?",description:"Voc\xea analisou seus gastos e identificou sua maior fonte de despesas do m\xeas. Conhecimento \xe9 poder!",icon:l.A,condition:"viewedTopSpendingCategory"},{id:"ach_12",title:"M\xeas Zen",description:'Voc\xea passou um m\xeas inteiro sem gastar em uma categoria de "sup\xe9rfluos". Mente s\xe3, bolso s\xe3o!',icon:m.A,condition:"noSpendingInSuperfluousCategory"},{id:"ach_3",title:"Poupador",description:"Voc\xea conseguiu economizar mais de R$ 500 em um \xfanico m\xeas. Continue assim!",icon:f.A,condition:"savedMoreThan500"},{id:"ach_13_bronze",title:"\xcdm\xe3 de Dinheiro (Bronze)",description:"Voc\xea economizou R$ 100 em um m\xeas!",icon:p.A,condition:"saved100InMonth"},{id:"ach_13_silver",title:"\xcdm\xe3 de Dinheiro (Prata)",description:"Voc\xea economizou R$ 500 em um m\xeas!",icon:p.A,condition:"saved500InMonth"},{id:"ach_13_gold",title:"\xcdm\xe3 de Dinheiro (Ouro)",description:"Voc\xea economizou R$ 1.000 em um m\xeas!",icon:p.A,condition:"saved1000InMonth"},{id:"ach_14",title:"Estrategista Financeiro",description:"Voc\xea conseguiu economizar mais de 20% da sua renda este m\xeas. Um verdadeiro estrategista!",icon:h.A,condition:"saved20PercentOfIncome"},{id:"ach_15",title:"Dia do Cofre Cheio",description:"Voc\xea passou 24 horas sem registrar nenhum gasto. Pequenas vit\xf3rias levam a grandes resultados!",icon:g.A,condition:"noSpendingFor24Hours"},{id:"ach_4",title:"Const\xe2ncia \xe9 a Chave",description:"Voc\xea se manteve dentro do or\xe7amento por 3 meses consecutivos. H\xe1bito de mestre!",icon:y.A,condition:"consistentSaver"},{id:"ach_16",title:"Anivers\xe1rio Financeiro",description:"Parab\xe9ns! Voc\xea est\xe1 h\xe1 1 ano organizando suas finan\xe7as conosco.",icon:v.A,condition:"oneYearAnniversary"},{id:"ach_17",title:"Lenda Financeira",description:"Voc\xea se manteve dentro do or\xe7amento por 12 meses consecutivos. Voc\xea domina suas finan\xe7as!",icon:b.A,condition:"legendarySaver"},{id:"ach_18",title:"Sextou!",description:"Voc\xea categorizou sua renda em uma sexta-feira. Come\xe7ando o fim de semana com o p\xe9 direito!",icon:x.A,condition:"categorizedIncomeOnFriday"}]},67039:(e,t,a)=>{"use strict";a.d(t,{db:()=>c,j:()=>r});var o=a(23915),n=a(35317),i=a(93004);let s=(0,o.Dk)().length?(0,o.Sx)():(0,o.Wp)({projectId:"finsight-lxxmb",appId:"1:686617891887:web:2fffa88d7789119750a2da",storageBucket:"finsight-lxxmb.appspot.com",apiKey:"AIzaSyATjUtFWIOprS9ntjc9RGAsoCjdf5409U8",authDomain:"finsight-lxxmb.firebaseapp.com",messagingSenderId:"686617891887"}),r=(0,i.Nu)(s,{persistence:i.F0}),c=(0,n.aU)(s)},87481:(e,t,a)=>{"use strict";a.d(t,{dj:()=>m});var o=a(12115);let n=0,i=new Map,s=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),u({type:"REMOVE_TOAST",toastId:e})},1e3);i.set(e,t)},r=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?s(a):e.toasts.forEach(e=>{s(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},c=[],d={toasts:[]};function u(e){d=r(d,e),c.forEach(e=>{e(d)})}function l(e){let{...t}=e,a=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),o=()=>u({type:"DISMISS_TOAST",toastId:a});return u({type:"ADD_TOAST",toast:{...t,id:a,open:!0,duration:2e3,onOpenChange:e=>{e||o()}}}),{id:a,dismiss:o,update:e=>u({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function m(){let[e,t]=o.useState(d);return o.useEffect(()=>(c.push(t),()=>{let e=c.indexOf(t);e>-1&&c.splice(e,1)}),[e]),{...e,toast:l,dismiss:e=>u({type:"DISMISS_TOAST",toastId:e})}}}},e=>{var t=t=>e(e.s=t);e.O(0,[690,992,644,522,918,100,441,684,358],()=>t(50198)),_N_E=e.O()}]);