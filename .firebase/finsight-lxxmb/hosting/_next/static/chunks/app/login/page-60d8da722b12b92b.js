(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{9690:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>h});var t=s(95155),r=s(12115),i=s(30285),n=s(66695),l=s(62523),d=s(85057),o=s(17313),c=s(519),u=s(50172),f=s(27600),m=s(87481),p=s(35695);function h(){let{login:e,signup:a}=(0,f.A)(),{toast:s}=(0,m.dj)(),h=(0,p.useRouter)(),[g,x]=(0,r.useState)(""),[v,b]=(0,r.useState)(""),[j,y]=(0,r.useState)(""),[w,N]=(0,r.useState)(""),[S,T]=(0,r.useState)(""),[A,C]=(0,r.useState)(!1),k=(e,a)=>{let t="Ocorreu um erro inesperado. Tente novamente.";if(e.code)switch(e.code){case"auth/wrong-password":case"auth/user-not-found":case"auth/invalid-credential":t="E-mail ou senha inv\xe1lidos.";break;case"auth/email-already-in-use":t="Este e-mail j\xe1 est\xe1 em uso por outra conta.";break;case"auth/weak-password":t="A senha \xe9 muito fraca. Ela deve ter no m\xednimo 6 caracteres.";break;case"auth/invalid-email":t="O formato do e-mail \xe9 inv\xe1lido.";break;default:t=e.message}s({variant:"destructive",title:"login"===a?"Erro ao entrar":"Erro ao criar conta",description:t})},E=async()=>{if(R){C(!0);try{await e({email:g,password:v}),h.push("/dashboard")}catch(e){k(e,"login")}finally{C(!1)}}},I=async()=>{if(_){C(!0);try{await a({name:j,email:w,password:S}),h.push("/dashboard")}catch(e){k(e,"signup")}finally{C(!1)}}},R=""!==g.trim()&&""!==v.trim(),_=""!==j.trim()&&""!==w.trim()&&""!==S.trim();return(0,t.jsxs)("div",{className:"flex min-h-screen flex-col items-center justify-center bg-background",children:[(0,t.jsxs)("div",{className:"absolute top-8 left-8 flex items-center gap-2 text-lg font-semibold md:text-base",children:[(0,t.jsx)(c.A,{className:"h-6 w-6 text-primary"}),(0,t.jsx)("span",{className:"font-headline text-xl",children:"FinSight"})]}),(0,t.jsxs)(o.tU,{defaultValue:"login",className:"w-[400px]",children:[(0,t.jsxs)(o.j7,{className:"grid w-full grid-cols-2",children:[(0,t.jsx)(o.Xi,{value:"login",children:"Entrar"}),(0,t.jsx)(o.Xi,{value:"signup",children:"Cadastrar"})]}),(0,t.jsx)(o.av,{value:"login",children:(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsx)(n.ZB,{children:"Bem-vindo de volta!"}),(0,t.jsx)(n.BT,{children:"Acesse sua conta para gerenciar suas finan\xe7as."})]}),(0,t.jsxs)(n.Wu,{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(d.J,{htmlFor:"email",children:"Email"}),(0,t.jsx)(l.p,{id:"email",type:"email",placeholder:"seu@email.com",value:g,onChange:e=>x(e.target.value),disabled:A})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(d.J,{htmlFor:"password",children:"Senha"}),(0,t.jsx)(l.p,{id:"password",type:"password",value:v,onChange:e=>b(e.target.value),disabled:A})]})]}),(0,t.jsx)(n.wL,{children:(0,t.jsxs)(i.$,{className:"w-full",onClick:E,disabled:A||!R,children:[A&&(0,t.jsx)(u.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Entrar"]})})]})}),(0,t.jsx)(o.av,{value:"signup",children:(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsx)(n.ZB,{children:"Crie sua conta"}),(0,t.jsx)(n.BT,{children:"Comece a organizar sua vida financeira hoje mesmo."})]}),(0,t.jsxs)(n.Wu,{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(d.J,{htmlFor:"name-signup",children:"Nome"}),(0,t.jsx)(l.p,{id:"name-signup",placeholder:"Seu Nome Completo",value:j,onChange:e=>y(e.target.value),disabled:A})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(d.J,{htmlFor:"email-signup",children:"Email"}),(0,t.jsx)(l.p,{id:"email-signup",type:"email",placeholder:"seu@email.com",value:w,onChange:e=>N(e.target.value),disabled:A})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(d.J,{htmlFor:"password-signup",children:"Senha"}),(0,t.jsx)(l.p,{id:"password-signup",type:"password",value:S,onChange:e=>T(e.target.value),disabled:A})]})]}),(0,t.jsx)(n.wL,{children:(0,t.jsxs)(i.$,{className:"w-full",onClick:I,disabled:A||!_,children:[A&&(0,t.jsx)(u.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Criar Conta"]})})]})})]})]})}},17313:(e,a,s)=>{"use strict";s.d(a,{Xi:()=>o,av:()=>c,j7:()=>d,tU:()=>l});var t=s(95155),r=s(12115),i=s(60704),n=s(59434);let l=i.bL,d=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(i.B8,{ref:a,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...r})});d.displayName=i.B8.displayName;let o=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(i.l9,{ref:a,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...r})});o.displayName=i.l9.displayName;let c=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(i.UC,{ref:a,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...r})});c.displayName=i.UC.displayName},27600:(e,a,s)=>{"use strict";s.d(a,{A:()=>u,O:()=>c});var t=s(95155),r=s(12115),i=s(93004),n=s(67039),l=s(35695),d=s(57383);let o=(0,r.createContext)(void 0);function c(e){let{children:a}=e,[s,c]=(0,r.useState)(null),[u,f]=(0,r.useState)(!0),m=(0,l.useRouter)();(0,r.useEffect)(()=>{let e=(0,i.hg)(n.j,async e=>{if(c(e),e){let a=await e.getIdToken();d.A.set("firebaseIdToken",a,{path:"/"})}else d.A.remove("firebaseIdToken",{path:"/"});f(!1)});return()=>e()},[]);let p=async e=>{let{email:a,password:s}=e;return(await (0,i.x9)(n.j,a,s)).user},h=async e=>{let{name:a,email:s,password:t}=e;return(await (0,i.eJ)(n.j,s,t)).user},g=async()=>{await (0,i.CI)(n.j),m.push("/login")};return(0,t.jsx)(o.Provider,{value:{user:s,loading:u,login:p,signup:h,logout:g},children:a})}function u(){let e=(0,r.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},30285:(e,a,s)=>{"use strict";s.d(a,{$:()=>o,r:()=>d});var t=s(95155),r=s(12115),i=s(66634),n=s(74466),l=s(59434);let d=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef((e,a)=>{let{className:s,variant:r,size:n,asChild:o=!1,...c}=e,u=o?i.DX:"button";return(0,t.jsx)(u,{className:(0,l.cn)(d({variant:r,size:n,className:s})),ref:a,...c})});o.displayName="Button"},59434:(e,a,s)=>{"use strict";s.d(a,{cn:()=>i});var t=s(52596),r=s(39688);function i(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return(0,r.QP)((0,t.$)(a))}},62523:(e,a,s)=>{"use strict";s.d(a,{p:()=>n});var t=s(95155),r=s(12115),i=s(59434);let n=r.forwardRef((e,a)=>{let{className:s,type:r,...n}=e;return(0,t.jsx)("input",{type:r,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a,...n})});n.displayName="Input"},66695:(e,a,s)=>{"use strict";s.d(a,{BT:()=>o,Wu:()=>c,ZB:()=>d,Zp:()=>n,aR:()=>l,wL:()=>u});var t=s(95155),r=s(12115),i=s(59434);let n=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r})});n.displayName="Card";let l=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",s),...r})});l.displayName="CardHeader";let d=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",s),...r})});d.displayName="CardTitle";let o=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,i.cn)("text-sm text-muted-foreground",s),...r})});o.displayName="CardDescription";let c=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,i.cn)("p-6 pt-0",s),...r})});c.displayName="CardContent";let u=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,i.cn)("flex items-center p-6 pt-0",s),...r})});u.displayName="CardFooter"},67039:(e,a,s)=>{"use strict";s.d(a,{db:()=>d,j:()=>l});var t=s(23915),r=s(35317),i=s(93004);let n=(0,t.Dk)().length?(0,t.Sx)():(0,t.Wp)({projectId:"finsight-lxxmb",appId:"1:686617891887:web:2fffa88d7789119750a2da",storageBucket:"finsight-lxxmb.appspot.com",apiKey:"AIzaSyATjUtFWIOprS9ntjc9RGAsoCjdf5409U8",authDomain:"finsight-lxxmb.firebaseapp.com",messagingSenderId:"686617891887"}),l=(0,i.Nu)(n,{persistence:i.F0}),d=(0,r.aU)(n)},80935:(e,a,s)=>{Promise.resolve().then(s.bind(s,9690))},85057:(e,a,s)=>{"use strict";s.d(a,{J:()=>o});var t=s(95155),r=s(12115),i=s(40968),n=s(74466),l=s(59434);let d=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(i.b,{ref:a,className:(0,l.cn)(d(),s),...r})});o.displayName=i.b.displayName},87481:(e,a,s)=>{"use strict";s.d(a,{dj:()=>f});var t=s(12115);let r=0,i=new Map,n=e=>{if(i.has(e))return;let a=setTimeout(()=>{i.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e3);i.set(e,a)},l=(e,a)=>{switch(a.type){case"ADD_TOAST":return{...e,toasts:[a.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===a.toast.id?{...e,...a.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=a;return s?n(s):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===a.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==a.toastId)}}},d=[],o={toasts:[]};function c(e){o=l(o,e),d.forEach(e=>{e(o)})}function u(e){let{...a}=e,s=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),t=()=>c({type:"DISMISS_TOAST",toastId:s});return c({type:"ADD_TOAST",toast:{...a,id:s,open:!0,duration:2e3,onOpenChange:e=>{e||t()}}}),{id:s,dismiss:t,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function f(){let[e,a]=t.useState(o);return t.useEffect(()=>(d.push(a),()=>{let e=d.indexOf(a);e>-1&&d.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}}},e=>{var a=a=>e(e.s=a);e.O(0,[992,644,522,375,441,684,358],()=>a(80935)),_N_E=e.O()}]);