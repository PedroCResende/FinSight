"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[630],{17380:(e,t,a)=>{a.d(t,{Y:()=>k});var s=a(95155),r=a(6874),n=a.n(r),d=a(12115),i=a(85977),o=a(59434);let l=d.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.bL,{ref:t,className:(0,o.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...r})});l.displayName=i.bL.displayName;let c=d.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i._V,{ref:t,className:(0,o.cn)("aspect-square h-full w-full",a),...r})});c.displayName=i._V.displayName;let u=d.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.H4,{ref:t,className:(0,o.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...r})});u.displayName=i.H4.displayName;var f=a(76215),m=a(73158),p=a(10518),h=a(70154);let x=f.bL,y=f.l9;f.YJ,f.ZL,f.Pb,f.z6,d.forwardRef((e,t)=>{let{className:a,inset:r,children:n,...d}=e;return(0,s.jsxs)(f.ZP,{ref:t,className:(0,o.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",a),...d,children:[n,(0,s.jsx)(m.A,{className:"ml-auto"})]})}).displayName=f.ZP.displayName,d.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(f.G5,{ref:t,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...r})}).displayName=f.G5.displayName;let g=d.forwardRef((e,t)=>{let{className:a,sideOffset:r=4,...n}=e;return(0,s.jsx)(f.ZL,{children:(0,s.jsx)(f.UC,{ref:t,sideOffset:r,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...n})})});g.displayName=f.UC.displayName;let b=d.forwardRef((e,t)=>{let{className:a,inset:r,...n}=e;return(0,s.jsx)(f.q7,{ref:t,className:(0,o.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",a),...n})});b.displayName=f.q7.displayName,d.forwardRef((e,t)=>{let{className:a,children:r,checked:n,...d}=e;return(0,s.jsxs)(f.H_,{ref:t,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:n,...d,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(f.VF,{children:(0,s.jsx)(p.A,{className:"h-4 w-4"})})}),r]})}).displayName=f.H_.displayName,d.forwardRef((e,t)=>{let{className:a,children:r,...n}=e;return(0,s.jsxs)(f.hN,{ref:t,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(f.VF,{children:(0,s.jsx)(h.A,{className:"h-2 w-2 fill-current"})})}),r]})}).displayName=f.hN.displayName;let v=d.forwardRef((e,t)=>{let{className:a,inset:r,...n}=e;return(0,s.jsx)(f.JU,{ref:t,className:(0,o.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",a),...n})});v.displayName=f.JU.displayName;let w=d.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(f.wv,{ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",a),...r})});w.displayName=f.wv.displayName;var j=a(30285),N=a(519),_=a(18271),A=a(33349),S=a(27600);function k(){var e;let{user:t,logout:a}=(0,S.A)();return(0,s.jsx)("header",{className:"sticky top-0 flex h-16 items-center gap-4 border-b bg-background px-4 md:px-6 z-50",children:(0,s.jsxs)("nav",{className:"flex w-full flex-row items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("a",{href:"/dashboard",className:"flex items-center gap-2 text-lg font-semibold md:text-base",children:[(0,s.jsx)(N.A,{className:"h-6 w-6 text-primary"}),(0,s.jsx)("span",{className:"font-headline text-xl",children:"FinSight"})]}),(0,s.jsxs)("div",{className:"hidden md:flex items-center gap-2",children:[(0,s.jsx)(j.$,{variant:"link",asChild:!0,children:(0,s.jsx)(n(),{href:"/dashboard",children:"Dashboard"})}),(0,s.jsx)(j.$,{variant:"link",asChild:!0,children:(0,s.jsx)(n(),{href:"/budgets",children:"Or\xe7amentos"})}),(0,s.jsx)(j.$,{variant:"link",asChild:!0,children:(0,s.jsx)(n(),{href:"/goals",children:"Metas"})}),(0,s.jsx)(j.$,{variant:"link",asChild:!0,children:(0,s.jsx)(n(),{href:"/achievements",children:"Conquistas"})})]})]}),(0,s.jsxs)(x,{children:[(0,s.jsx)(y,{asChild:!0,children:(0,s.jsxs)(j.$,{variant:"secondary",size:"icon",className:"rounded-full",children:[(0,s.jsxs)(l,{children:[(0,s.jsx)(c,{src:(null==t?void 0:t.photoURL)||"",alt:(null==t?void 0:t.displayName)||"User","data-ai-hint":"person face"}),(0,s.jsx)(u,{children:(e=null==t?void 0:t.email)?e[0].toUpperCase():"U"})]}),(0,s.jsx)("span",{className:"sr-only",children:"Alternar menu do usu\xe1rio"})]})}),(0,s.jsxs)(g,{align:"end",children:[(0,s.jsx)(v,{children:(null==t?void 0:t.email)||"Minha Conta"}),(0,s.jsx)(w,{}),(0,s.jsx)(n(),{href:"/settings",children:(0,s.jsxs)(b,{children:[(0,s.jsx)(_.A,{className:"mr-2 h-4 w-4"}),(0,s.jsx)("span",{children:"Configura\xe7\xf5es"})]})}),(0,s.jsx)(w,{}),(0,s.jsxs)(b,{onClick:a,children:[(0,s.jsx)(A.A,{className:"mr-2 h-4 w-4"}),(0,s.jsx)("span",{children:"Sair"})]})]})]})]})})}},24355:(e,t,a)=>{a.d(t,{$_:()=>M,$x:()=>j,AF:()=>x,Ah:()=>c,BH:()=>N,D:()=>v,DX:()=>b,Eg:()=>h,I0:()=>m,K7:()=>f,NN:()=>S,TO:()=>w,Uw:()=>y,Wm:()=>k,XH:()=>_,__:()=>G,bW:()=>l,m:()=>g,oV:()=>p,rr:()=>A,st:()=>u});var s=a(67039),r=a(35317),n=a(84713),d=a(19164),i=a(74641);let o=e=>{let t={...e};for(let e in t)t[e]instanceof r.Dc&&(t[e]=t[e].toDate());return t};async function l(e){let t=(0,r.rJ)(s.db,"users/".concat(e,"/categories")),a=(0,r.P)(t);return(await (0,r.GG)(a)).docs.map(e=>({id:e.id,...e.data()}))}async function c(e,t){let a=(0,r.rJ)(s.db,"users/".concat(e,"/categories"));return(await (0,r.gS)(a,t)).id}async function u(e,t,a){let n=(0,r.H9)(s.db,"users/".concat(e,"/categories"),t);await (0,r.mZ)(n,a)}async function f(e,t){let a=(0,r.H9)(s.db,"users/".concat(e,"/categories"),t);await (0,r.kd)(a)}async function m(e){let t=(0,r.rJ)(s.db,"users/".concat(e,"/transactions")),a=(0,r.P)(t);return(await (0,r.GG)(a)).docs.map(e=>({id:e.id,...o(e.data())}))}async function p(e,t,a){let d=(0,r.rJ)(s.db,"users/".concat(e,"/transactions")),i=(0,r.P)(d,(0,r._M)("date",">=",(0,n.GP)(t,"yyyy-MM-dd")),(0,r._M)("date","<=",(0,n.GP)(a,"yyyy-MM-dd")));return(await (0,r.GG)(i)).docs.map(e=>({id:e.id,...o(e.data())}))}async function h(e,t){let a=(0,r.rJ)(s.db,"users/".concat(e,"/transactions")),n=t.map(e=>e.hash),d=Array.from({length:Math.ceil(n.length/30)},(e,t)=>n.slice(30*t,30*t+30)),i=new Set;for(let e of d){if(0===e.length)continue;let t=(0,r.P)(a,(0,r._M)("hash","in",e));(await (0,r.GG)(t)).forEach(e=>{i.add(e.data().hash)})}let l=t.filter(e=>!i.has(e.hash));if(0===l.length)return[];let c=(0,r.wP)(s.db),u=[];return l.forEach(t=>{let a=(0,r.H9)((0,r.rJ)(s.db,"users/".concat(e,"/transactions")));c.set(a,t),u.push({id:a.id,...o(t)})}),await c.commit(),u}async function x(e,t,a){let n=(0,r.H9)(s.db,"users/".concat(e,"/transactions"),t);await (0,r.mZ)(n,a)}async function y(e,t){let a=(0,r.H9)(s.db,"users/".concat(e,"/transactions"),t);await (0,r.kd)(a)}async function g(e){let t=(0,r.rJ)(s.db,"users/".concat(e,"/transactions")),a=await (0,r.GG)(t);if(a.empty)return;let n=(0,r.wP)(s.db);a.docs.forEach(e=>{n.delete(e.ref)}),await n.commit()}async function b(e){let t=(0,r.rJ)(s.db,"users/".concat(e,"/goals")),a=(0,r.P)(t);return(await (0,r.GG)(a)).docs.map(e=>({id:e.id,...o(e.data())}))}async function v(e,t){let a=(0,r.rJ)(s.db,"users/".concat(e,"/goals"));return(await (0,r.gS)(a,{...t,createdAt:(0,r.O5)()})).id}async function w(e,t,a){let n=(0,r.H9)(s.db,"users/".concat(e,"/goals"),t);await (0,r.mZ)(n,a)}async function j(e,t){let a=(0,r.H9)(s.db,"users/".concat(e,"/goals"),t);await (0,r.kd)(a)}async function N(e){let t=(0,r.rJ)(s.db,"users/".concat(e,"/budgets")),a=(0,r.P)(t);return(await (0,r.GG)(a)).docs.map(e=>({id:e.id,...o(e.data())}))}async function _(e,t){let a=(0,r.rJ)(s.db,"users/".concat(e,"/budgets"));return(await (0,r.gS)(a,t)).id}async function A(e,t,a){let n=(0,r.H9)(s.db,"users/".concat(e,"/budgets"),t);await (0,r.mZ)(n,a)}async function S(e,t){let a=(0,r.H9)(s.db,"users/".concat(e,"/budgets"),t);await (0,r.kd)(a)}async function k(e,t,a){let o=new Date(a.replace(/-/g,"/")),l=(0,n.GP)(o,"yyyy-MM"),c=(0,r.rJ)(s.db,"users/".concat(e,"/budgets")),u=(0,r.P)(c,(0,r._M)("categoryId","==",t),(0,r._M)("month","==",l)),f=await (0,r.GG)(u);if(f.empty)return;let m=f.docs[0],p=(0,r.rJ)(s.db,"users/".concat(e,"/transactions")),h=(0,n.GP)((0,d.w)(o),"yyyy-MM-dd"),x=(0,n.GP)((0,i.p)(o),"yyyy-MM-dd"),y=(0,r.P)(p,(0,r._M)("category","==",t),(0,r._M)("date",">=",h),(0,r._M)("date","<=",x),(0,r._M)("amount","<",0)),g=(await (0,r.GG)(y)).docs.reduce((e,t)=>e+Math.abs(t.data().amount),0);await (0,r.mZ)(m.ref,{current:g})}async function M(e){let t=(0,r.rJ)(s.db,"users/".concat(e,"/achievements")),a=(0,r.P)(t);return(await (0,r.GG)(a)).docs.map(e=>({id:e.id,...o(e.data())}))}async function G(e,t){let a=(0,r.rJ)(s.db,"users/".concat(e,"/achievements"));return(await (0,r.gS)(a,{achievementId:t,unlockedAt:(0,r.O5)()})).id}},27600:(e,t,a)=>{a.d(t,{A:()=>u,O:()=>c});var s=a(95155),r=a(12115),n=a(93004),d=a(67039),i=a(35695),o=a(57383);let l=(0,r.createContext)(void 0);function c(e){let{children:t}=e,[a,c]=(0,r.useState)(null),[u,f]=(0,r.useState)(!0),m=(0,i.useRouter)();(0,r.useEffect)(()=>{let e=(0,n.hg)(d.j,async e=>{if(c(e),e){let t=await e.getIdToken();o.A.set("firebaseIdToken",t,{path:"/"})}else o.A.remove("firebaseIdToken",{path:"/"});f(!1)});return()=>e()},[]);let p=async e=>{let{email:t,password:a}=e;return(await (0,n.x9)(d.j,t,a)).user},h=async e=>{let{name:t,email:a,password:s}=e;return(await (0,n.eJ)(d.j,a,s)).user},x=async()=>{await (0,n.CI)(d.j),m.push("/login")};return(0,s.jsx)(l.Provider,{value:{user:a,loading:u,login:p,signup:h,logout:x},children:t})}function u(){let e=(0,r.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},30285:(e,t,a)=>{a.d(t,{$:()=>l,r:()=>o});var s=a(95155),r=a(12115),n=a(66634),d=a(74466),i=a(59434);let o=(0,d.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=r.forwardRef((e,t)=>{let{className:a,variant:r,size:d,asChild:l=!1,...c}=e,u=l?n.DX:"button";return(0,s.jsx)(u,{className:(0,i.cn)(o({variant:r,size:d,className:a})),ref:t,...c})});l.displayName="Button"},59434:(e,t,a)=>{a.d(t,{cn:()=>n});var s=a(52596),r=a(39688);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}},66695:(e,t,a)=>{a.d(t,{BT:()=>l,Wu:()=>c,ZB:()=>o,Zp:()=>d,aR:()=>i,wL:()=>u});var s=a(95155),r=a(12115),n=a(59434);let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});d.displayName="Card";let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...r})});i.displayName="CardHeader";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});o.displayName="CardTitle";let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...r})});l.displayName="CardDescription";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",a),...r})});c.displayName="CardContent";let u=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",a),...r})});u.displayName="CardFooter"},67039:(e,t,a)=>{a.d(t,{db:()=>o,j:()=>i});var s=a(23915),r=a(35317),n=a(93004);let d=(0,s.Dk)().length?(0,s.Sx)():(0,s.Wp)({projectId:"finsight-lxxmb",appId:"1:686617891887:web:2fffa88d7789119750a2da",storageBucket:"finsight-lxxmb.appspot.com",apiKey:"AIzaSyATjUtFWIOprS9ntjc9RGAsoCjdf5409U8",authDomain:"finsight-lxxmb.firebaseapp.com",messagingSenderId:"686617891887"}),i=(0,n.Nu)(d,{persistence:n.F0}),o=(0,r.aU)(d)},87481:(e,t,a)=>{a.d(t,{dj:()=>f});var s=a(12115);let r=0,n=new Map,d=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e3);n.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?d(a):e.toasts.forEach(e=>{d(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],l={toasts:[]};function c(e){l=i(l,e),o.forEach(e=>{e(l)})}function u(e){let{...t}=e,a=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...t,id:a,open:!0,duration:2e3,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function f(){let[e,t]=s.useState(l);return s.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}}}]);